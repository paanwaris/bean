% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/thin_env_nd.R
\name{thin_env_nd}
\alias{thin_env_nd}
\title{Thin occurrence data in n-dimensional environmental space}
\usage{
thin_env_nd(data, env_vars, grid_resolution, max_per_cell)
}
\arguments{
\item{data}{A data.frame containing species occurrences and pre-scaled
environmental variables, typically the output of `prepare_bean()`.}

\item{env_vars}{A character vector of two or more column names representing
the environmental variables (dimensions) to use for thinning.}

\item{grid_resolution}{A numeric vector of resolutions for each environmental
axis. Its length must match the length of `env_vars`.}

\item{max_per_cell}{An integer specifying the maximum number of points to
retain per grid cell.}
}
\value{
An object of class `bean_thinned_density`, which is a list containing:
  \item{thinned_data}{A data.frame containing the occurrence records that were retained after the thinning process.}
  \item{n_original}{An integer representing the number of complete occurrence records in the input data before thinning.}
  \item{n_thinned}{An integer representing the number of occurrence records remaining after thinning.}
  \item{parameters}{A list of the key parameters used during the thinning process.}
}
\description{
This function thins species occurrence records in an n-dimensional
environmental space by randomly sampling a specified number of points from
each occupied n-dimensional grid cell (hypercube).
}
\examples{
\dontrun{
# Assume 'prepared_pca' is the output from prepare_bean(..., transform = "pca")
# and contains columns PC1, PC2, PC3.

# Thin the data in 3D environmental space
thinned_3d <- thin_env_nd(
  data = prepared_pca$prepared_data,
  env_vars = c("PC1", "PC2", "PC3"),
  grid_resolution = c(0.5, 0.5, 0.5), # One resolution value for each axis
  max_per_cell = 1
)

# Print the summary
print(thinned_3d)
}
}
